(()=>{"use strict";function e(e,t,o,n){localStorage.setItem("default",JSON.stringify(e)),localStorage.setItem("uni",JSON.stringify(t)),localStorage.setItem("sport",JSON.stringify(o)),localStorage.setItem("holiday",JSON.stringify(n))}function t(e,t,o,n,r,l){this.title=e,this.description=t,this.dueDate=o,this.priority=n,this.project=r,this.pos=l}function o(e){const t=document.querySelector(".middle-body");t.innerHTML="";for(const o in e){const n=document.createElement("div");n.className="todos",n.id=e[o].pos,n.textContent=`${e[o].title} - ${e[o].dueDate}`,t.appendChild(n)}document.querySelectorAll(".todos").forEach((e=>{e.addEventListener("click",(()=>{for(const t in r)e.id==r[t].pos&&(a=r[t],n(a))}))}))}function n(e){p.innerHTML="";const t=Object.keys(e);for(let o=0;o<t.length-1;o++){const n=document.createElement("div");n.classList="single-detail";const r=document.createElement("div"),l=document.createElement("div");switch(o){case 0:r.textContent="Title:",l.textContent=e[t[o]];break;case 1:r.textContent="Description:",l.textContent=e[t[o]];break;case 2:r.textContent="Due date:",l.textContent=e[t[o]];break;case 3:r.textContent="Priority:",l.textContent=e[t[o]]}n.appendChild(r),n.appendChild(l),p.appendChild(n)}}let r=[],l=[],c=[],i=[];const u=new t("exam","algorithms","21/4","high","university",1);r.push(u),l.push(u);const d=new t("basketball","3v3, outdoor","12/4","low","sport",2);r.push(d),c.push(d);const s=new t("sardegna","santa teresa, one week","13/9","middle","holiday",3);let a;r.push(s),i.push(s),localStorage.getItem("default")?(r=function(){let e=[];return JSON.parse(null!=localStorage.getItem("default"))&&(e=JSON.parse(localStorage.getItem("default"))),e}(),l=function(){let e=[];return null!=JSON.parse(localStorage.getItem("uni"))&&(e=JSON.parse(localStorage.getItem("uni"))),e}(),c=function(){let e=[];return null!=JSON.parse(localStorage.getItem("sport"))&&(e=JSON.parse(localStorage.getItem("sport"))),e}(),i=function(){let e=[];return null!=JSON.parse(localStorage.getItem("holiday"))&&(e=JSON.parse(localStorage.getItem("holiday"))),e}()):e(r,l,c,i),o(r),document.querySelector(".uni").addEventListener("click",(()=>{o(l)})),document.querySelector(".sport").addEventListener("click",(()=>{o(c)})),document.querySelector(".hol").addEventListener("click",(()=>{o(i)})),document.querySelector(".all").addEventListener("click",(()=>{o(r)}));const p=document.querySelector(".details"),y=document.querySelector(".delete"),m=document.createElement("button");m.textContent="Delete",m.id="delete-button",y.appendChild(m),m.addEventListener("click",(()=>{!function(t){r.splice(r.indexOf(t),1),"university"==t.project?l.splice(l.indexOf(t),1):"sport"==t.project?c.splice(c.indexOf(t),1):"holiday"==t.project&&i.splice(i.indexOf(t),1),e(r,l,c,i),o(r)}(a),p.innerHTML=""}));const S=document.querySelector(".new-form");let h,v,f,g,q,O;document.querySelector("#new-button").addEventListener("click",(()=>{S.style.display="block"})),document.querySelector("#new-submit-button").addEventListener("click",(n=>{n.preventDefault(),h=document.querySelector("#new-title"),v=document.querySelector("#new-desc"),f=document.querySelector("#new-duedate"),g=document.querySelector("#new-priority"),q=document.querySelector("#new-project"),O=r.length+1,function(o,n,u,d,s,a){const p=new t(o,n,u,d,s,a);r.push(p),"university"==p.project?l.push(p):"sport"==p.project?c.push(p):"holiday"==p.project&&i.push(p),e(r,l,c,i)}(h.value,v.value,f.value,g.value,q.value,O),o(r),S.style.display="none",S.reset()}));const k=document.querySelector(".edit-form");document.querySelector("#edit-button").addEventListener("click",(()=>{k.style.display="block",h=document.querySelector("#edit-title"),h.value=a.title,v=document.querySelector("#edit-desc"),v.value=a.description,f=document.querySelector("#edit-duedate"),f.value=a.dueDate,g=document.querySelector("#edit-priority"),g.value=a.priority,q=document.querySelector("#edit-project"),q.value=a.project})),document.querySelector("#edit-submit-button").addEventListener("click",(t=>{var u,d,s,p,y;t.preventDefault(),u=h.value,d=v.value,s=f.value,p=g.value,y=q.value,a.title!=u&&(a.title=u),a.dueDate!=s&&(a.dueDate=d),a.description!=d&&(a.description=d),a.priority!=p&&(a.priority=p),a.project!=y&&("university"==a.project?l.splice(l.indexOf(a),1):"sport"==a.project?c.splice(c.indexOf(a),1):"holiday"==a.project&&i.splice(i.indexOf(a),1),"university"==y?l.push(a):"sport"==y?c.push(a):"holiday"==y&&i.push(a),a.project=y),e(r,l,c,i),o(r),n(a),k.style.display="none",k.reset()}))})();